<!DOCTYPE html>
<html lang="en">

     <head>
          <meta charset="UTF-8">
          <meta name="viewport"
               content="width=device-width, initial-scale=1.0">

          <!-- Google Fonts -->
          <link rel="preconnect"
               href="https://fonts.googleapis.com">
          <link rel="preconnect"
               href="https://fonts.gstatic.com"
               crossorigin>
          <link href="https://fonts.googleapis.com/css2?family=Stack+Sans+Headline:wght@200..700&display=swap"
               rel="stylesheet">
          <!-- Google Fonts -->

          <!-- Bootstrap CSS + Icons -->
          <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css"
               rel="stylesheet" />
          <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.13.1/font/bootstrap-icons.css"
               rel="stylesheet" />

          <!-- Custom CSS -->
          <link rel="stylesheet"
               href="{{ url_for('static', filename='css/style.css') }}">

          <link rel="icon"
               type="image/x-icon"
               href="{{ url_for('static', filename='img/favicon.ico') }}" />

          <title>TasksTrackr&trade;</title>

     </head>

     <body class="bg-light bg-custom pt-5">

          !-- Navbar -->
          <nav class="navbar navbar-expand-sm navbar-dark bg-dark mb-5 fixed-top">
               <div class="container-fluid">
                    <a class="navbar-brand fw-bold text-warning"
                         href="">TaskTrackr&trade;</a>
                    <button class="navbar-toggler"
                         type="button"
                         data-bs-toggle="collapse"
                         data-bs-target="#navMenu"
                         aria-controls="navMenu"
                         aria-expanded="false"
                         aria-label="Toggle navigation">
                         <i class="bi bi-list navbar-icon-open fs-1 text-white"></i>
                         <i class="bi bi-x-lg navbar-icon-close fs-1 text-white"></i>
                    </button>
                    <div class="collapse navbar-collapse"
                         id="navMenu">
                         <ul class="navbar-nav ms-auto">
                              <li class="nav-item">
                                   <a class="nav-link {% if request.endpoint == 'get_tasks' %}text-warning{% endif %}"
                                        href="{{ url_for('get_tasks') }}">Dashboard</a>
                              </li>
                              {% if session.user %}
                              <li class="nav-item">
                                   <a class="nav-link {% if request.endpoint == 'profile' %}text-warning{% endif %}"
                                        href="{{ url_for('profile', username=session['user']) }}">Profile</a>
                              </li>
                              <li class="nav-item">
                                   <a class="nav-link {% if request.endpoint == 'add_task' %}text-warning{% endif %}"
                                        href="{{ url_for('add_task') }}">New Task</a>
                              </li>
                              <li class="nav-item">
                                   <a class="nav-link {% if request.endpoint == 'manage_categories' %}text-warning{% endif %}"
                                        href="#">Manage Categories</a>
                              </li>
                              <li class="nav-item">
                                   <a class="nav-link {% if request.endpoint == 'logout' %}text-warning{% endif %}"
                                        href="{{ url_for('logout') }}">Log Out</a>
                              </li>
                              {% else %}
                              <li class="nav-item">
                                   <a class="nav-link {% if request.endpoint == 'login' %}text-warning{% endif %}"
                                        href="{{ url_for('login') }}">Log In</a>
                              </li>
                              <li class="nav-item">
                                   <a class="nav-link {% if request.endpoint == 'register' %}text-warning{% endif %}"
                                        href="{{ url_for('register') }}">Register</a>
                              </li>
                              {% endif %}
                         </ul>
                    </div>
               </div>
          </nav>



          <!-- Flash Messages -->
          {% with messages = get_flashed_messages(with_categories=true) %}
          {% if messages %}
          {% for category, message in messages %}
          <div class="alert alert-{{ 'warning' if category == 'message' else category }} alert-dismissible fade show flash-alert text-center"
               role="alert"
               data-effect-duration="5000">
               {{ message }}
               <button type="button"
                    class="btn-close"
                    data-bs-dismiss="alert"></button>
          </div>
          {% endfor %}
          {% endif %}
          {% endwith %}

          <!-- Main Content -->
          <main>
               <div class="container mt-5">
                    {% block content %}{% endblock %}
               </div>
          </main>

          <!-- Footer -->
          <footer class="text-center py-3 mt-5 border-top">
               <small>Â©2025 <strong class="taskTheme">TasksTrackr&trade;</strong> by
                    <span class="text-color-warning"> The App Alchemy</span> <br>
                    Powered by Flask</small>
          </footer>


          <!-- bootrap js -->
          <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js"
               integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM"
               crossorigin="anonymous"></script>

     </body>

</html>
